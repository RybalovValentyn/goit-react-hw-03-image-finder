{"version":3,"sources":["components/imageFinder.module.css","components/Searchbar.js","components/Loader.js","components/ImageGalleryItem.js","components/ImageGallery.js","components/Button.js","components/Api.js","components/Modal.js","App.js","index.js"],"names":["module","exports","Searchbar","state","searchQuery","handleSearchInput","event","setState","currentTarget","value","toLowerCase","handleSearch","preventDefault","trim","props","searchPics","toast","error","className","s","SearchForm","onSubmit","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","placeholder","onChange","Component","Preloading","window","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","timeout","ImageItem","imageUrl","ImageGalleryItem","src","webformatURL","alt","tags","ImageGalleryItemImage","ImageGallery","hits","largeImageURL","handleClick","target","currentSrc","imageId","find","hit","images","addEventListener","removeEventListener","map","image","id","Button","loadMore","onClick","API","loading","status","page","modalImageUrl","imagesIdsearch","togle","handleLoadMore","console","log","prevState","prevProps","key","imageSearch","setTimeout","fetch","then","response","ok","json","Promise","reject","Error","catch","length","message","modalRoot","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","nodeName","createPortal","Overlay","App","showModal","toggleModal","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4c2a11f4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"imageFinder_App__2a439\",\"Searchbar\":\"imageFinder_Searchbar__3OcA6\",\"SearchForm\":\"imageFinder_SearchForm__2QndB\",\"SearchFormButton\":\"imageFinder_SearchFormButton__3u1EO\",\"SearchFormButtonLabel\":\"imageFinder_SearchFormButtonLabel__1EuA7\",\"SearchFormInput\":\"imageFinder_SearchFormInput__rZuF9\",\"ImageGallery\":\"imageFinder_ImageGallery__2oSm9\",\"ImageGalleryItem\":\"imageFinder_ImageGalleryItem__v-jlt\",\"ImageGalleryItemImage\":\"imageFinder_ImageGalleryItemImage__3MPd5\",\"Overlay\":\"imageFinder_Overlay__1bSXm\",\"Modal\":\"imageFinder_Modal__1UkPb\",\"Button\":\"imageFinder_Button__78LLJ\"};","import { Component } from \"react\";\r\nimport s from './imageFinder.module.css'\r\nimport {toast} from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nclass Searchbar extends Component {\r\n\r\nstate={\r\n  searchQuery: '',\r\n}\r\n\r\nhandleSearchInput = event => {\r\n  this.setState({searchQuery: event.currentTarget.value.toLowerCase()});\r\n\r\n}\r\n\r\nhandleSearch = event => {\r\n    event.preventDefault()\r\n\r\nif (this.state.searchQuery.trim() === '') {  \r\n     toast.error(\"enter search immage\")\r\n    return\r\n}\r\n    this.props.searchPics(this.state.searchQuery)  //передали в апп pokemonName-имя пропса!!!!!!\r\n    this.setState({searchQuery: ''})\r\n}\r\n\r\nrender(){\r\n    return(\r\n<header className={s.Searchbar}>\r\n  <form className={s.SearchForm} onSubmit={this.handleSearch}>\r\n    <button type=\"submit\"  className={s.SearchFormButton}>\r\n      <span className={s.SearchFormButtonLabel}>Search</span>\r\n    </button>\r\n\r\n    <input\r\n      className={s.SearchFormInput}\r\n      type=\"text\"\r\n      // autocomplete=\"off\"\r\n      // autofocus\r\n      placeholder=\"Search images and photos\"\r\n      value = {this.state.searchQuery}\r\n      onChange = {this.handleSearchInput}\r\n    />\r\n  </form>\r\n</header>\r\n    )\r\n}\r\n\r\n}\r\n\r\nexport default Searchbar","import Loader from \"react-loader-spinner\";\r\nimport React, { Component } from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nexport default class Preloading extends Component {\r\n  componentDidMount() {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight ,\r\n       behavior: 'instant',\r\n     });\r\n  }\r\n  //other logic\r\n  render()\r\n\r\n{\r\n    return (\r\n     <Loader\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n   \r\n    );\r\n  }\r\n}","import s from './imageFinder.module.css'\r\n\r\nexport default function ImageItem({imageUrl}) {\r\n  return (\r\n\r\n<div  className={s.ImageGalleryItem}>\r\n  <img src={imageUrl.webformatURL} alt={imageUrl.tags} className={s.ImageGalleryItemImage} />\r\n</div>\r\n\r\n)}","import ImageItem from './ImageGalleryItem'\r\nimport s from './imageFinder.module.css'\r\nimport { Component } from 'react';\r\n\r\nexport default class ImageGallery extends Component {\r\nstate ={\r\n  hits: {},\r\n  largeImageURL: \"\",\r\n}\r\ncomponentDidMount() {\r\n    this.setState({hits: this.props.images})\r\n    // console.log('Modal componentDidMount');\r\n    window.addEventListener('click', this.handleClick);\r\n\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // console.log('Modal componentWillUnmount');\r\n    window.removeEventListener('click', this.handleClick);\r\n  }\r\n\r\n  handleClick = event => {\r\n    if (event.target.currentSrc) {\r\n \r\n    const imageId =  this.state.hits.find(hit => hit.webformatURL === event.target.src)\r\n    // this.setState({largeImageURL: imageId.largeImageURL})\r\n    // console.log(imageId.webformatURL);\r\nif (imageId) {\r\n  // console.log(imageId);\r\n  this.props.imageId(imageId)\r\n  \r\n}  \r\n         \r\n    }\r\n\r\n}\r\n\r\n// onClick={() => onDeleteTodo(id)}\r\n\r\nrender () {\r\n  const hits = this.props.images\r\n   return (\r\n   \r\n     <ul className={s.ImageGallery}>\r\n      {hits.map(image => (\r\n        <li key = {image.id}>\r\n          <ImageItem imageUrl={image} />\r\n          \r\n        </li>\r\n    \r\n      ))}\r\n    </ul> \r\n    \r\n          )\r\n}\r\n     \r\n    \r\n}","import React from \"react\"\r\nimport s from './imageFinder.module.css'\r\n\r\nexport default function Button ({loadMore}) {\r\n\r\n  window.scrollTo({\r\n    top: (document.documentElement.scrollHeight - 1400),\r\n     behavior: 'smooth',\r\n   });\r\n\r\nreturn (\r\n  <button onClick = {loadMore} type='button' className= {s.Button}>Load more</button>\r\n)\r\n\r\n}","import { Component } from \"react\";\r\nimport Preloading from \"./Loader\"\r\nimport ImageGallery from './/ImageGallery'\r\nimport Button from './Button'\r\nexport default class API extends Component {\r\n\r\n    state = {\r\n       image: [],\r\n        loading: false,\r\n        error: null,\r\n        status: 'idle',\r\n        page: 1,\r\n        modalImageUrl: ''\r\n    }\r\n\r\n\r\ncomponentDidUpdate(prevProps, prevState){\r\n    const key = '22353010-e1640ec84a31ac5dbc2cb01be'\r\n    if (prevProps.imageSearch !== this.props.imageSearch ) {\r\nthis.setState({status: 'pending', page: 1})\r\n\r\nsetTimeout(() => {\r\n    fetch(`https://pixabay.com/api/?q=${this.props.imageSearch}&page=${this.props.page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12\r\n    `)\r\n\r\n    .then(response=>{\r\n        if (response.ok) {\r\n            \r\n            return response.json()\r\n        }\r\n    return Promise.reject( new Error (`not name ${this.props.imageSearch}`))\r\n    })\r\n    .then( image => \r\n  { \r\n            this.setState({image: image.hits, status: 'resolved',})})\r\n    .catch(error => this.setState({error, status: 'rejected'}))\r\n },1000);\r\n    }\r\n    if ( prevState.page !== this.state.page && this.state.page > 1 ) {\r\n        this.setState({status: 'load more'})\r\n        setTimeout(() => {\r\n            fetch(`https://pixabay.com/api/?q=${this.props.imageSearch}&page=${this.state.page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12\r\n            `)        \r\n            .then(response=>{\r\n                if (response.ok) {                    \r\n                    return response.json()\r\n                }\r\n            return Promise.reject( new Error (`not name ${this.props.imageSearch}`))\r\n            })\r\n            .then( image => \r\n          { \r\n            this.setState(prevState => ({\r\n               image:[...prevState.image, ...image.hits ]}) ) \r\n            console.log([...prevState.image, ...image.hits ]);\r\n                    this.setState({ status: 'resolved'})})\r\n            .catch(error => this.setState({error, status: 'rejected'}))\r\n                },1000);\r\n    }\r\n}\r\n\r\ncomponentWillUnmount() {\r\n    this.setState({page: 1})\r\n  }\r\n\r\nimagesIdsearch=(imageId) => {\r\n\r\nthis.props.togle(imageId)\r\n}\r\n\r\nhandleLoadMore = () =>{\r\n   \r\nconsole.log('dslkfnvdfvev');\r\nthis.setState(prevState => ({\r\n    page: prevState.page + 1\r\n}) )\r\n\r\n}\r\n\r\nrender(){\r\n    const{ image, status, error }= this.state\r\n        \r\nif (status === 'idle') {\r\n    return <></>\r\n}\r\nif (status === 'pending' && image) {\r\n    return <Preloading />\r\n}\r\n\r\nif (status === 'resolved') {\r\n    // console.log(image);\r\n    return(\r\n        <>\r\n         <ImageGallery images={image} imageId ={this.imagesIdsearch}/>\r\n         {status === 'load more'&&  <Preloading />}\r\n        {image.length >= 12 && <Button loadMore={this.handleLoadMore}/>}\r\n        </>\r\n)\r\n}\r\nif (status === 'load more') {\r\n    // console.log(image);\r\n    return(\r\n        <>\r\n         {status === 'load more'&&  <Preloading />}\r\n         <ImageGallery images={image} imageId ={this.imagesIdsearch}/>\r\n         <Preloading />\r\n        </>\r\n)\r\n}\r\nif (status ==='rejected') {\r\n    return <p>{error.message }{this.props.imageSearch} нету</p>\r\n}\r\n\r\n}\r\n}\r\n\r\n\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './imageFinder.module.css'\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    // console.log('Modal componentDidMount');\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n    window.addEventListener('click', this.handleBackdropClick);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // console.log('Modal componentWillUnmount');\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n    window.removeEventListener('click', this.handleBackdropClick);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      console.log('Нажали ESC, нужно закрыть модалку');\r\n\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n\r\n    if (event.target.nodeName === 'DIV') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay}>\r\n      <div className={s.Modal}>\r\n        <img src={this.props.imageId.largeImageURL} alt={this.props.imageId.tags} />\r\n      </div>\r\n    </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  ","\nimport { Component } from \"react\";\nimport Searchbar from \"./components/Searchbar\";\nimport { ToastContainer } from 'react-toastify';\nimport API from \"./components/Api\";\nimport Modal from \"./components/Modal\";\nimport s from './components/imageFinder.module.css'\n\nclass App extends Component {\n  state = {\n    page: 1,\n    searchQuery: '',\n    showModal: false,\n    modalImageUrl: ''\n  }\n\nhandleSearch=searchPics=>{\n\nthis.setState({searchQuery: searchPics})\n}\n\ntoggleModal = (imageId) => {\n\n  this.setState(({ showModal, modalImageUrl }) => ({\n    modalImageUrl: imageId,\n    showModal: !showModal,\n    \n  }));\n};\n\nrender(){\n\n  return (\n<div \nclassName={s.App}\n>\n<Searchbar searchPics = {this.handleSearch}/>\n<API imageSearch={this.state.searchQuery} togle={this.toggleModal} />\n<ToastContainer autoClose={3000} />\n            {this.state.showModal && (\n      <Modal onClose={this.toggleModal} imageId={this.state.modalImageUrl}/>\n\n             )}\n\n</div>\n  );\n}\n\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App  />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}